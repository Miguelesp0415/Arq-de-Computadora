# Arq-de-Computadora
#include <Adafruit_NeoPixel.h> 

Adafruit_NeoPixel LED_RGB(1, 48, NEO_GRBW + NEO_KHZ800); 

int LED_PIN = 2; 

const int duracionCorta = 200;
const int duracionLarga = 400;
const int duracionPausa = 100; 

int secuenciaSOS[][4] = { 
  {1, 255, 0, 0}, {1, 255, 0, 0}, {1, 255, 0, 0}, 
  {2, 0, 0, 255}, {2, 0, 0, 255}, {2, 0, 0, 255}, 
  {1, 255, 0, 0}, {1, 255, 0, 0}, {1, 255, 0, 0}, 
  {0, 0, 0, 0} 
};
const int longitudSecuenciaSOS = sizeof(secuenciaSOS) / sizeof(secuenciaSOS[0]);

void colorearRGB(int red, int green, int blue) {
  LED_RGB.setPixelColor(0, (uint32_t(LED_RGB.Color(red, green, blue))));
  LED_RGB.show();
}

void pulsoBloqueante(int duracion, int r, int g, int b) {
  digitalWrite(LED_PIN, HIGH);
  colorearRGB(r, g, b); 
  delay(duracion);
  
  digitalWrite(LED_PIN, LOW);
  colorearRGB(0, 0, 0); 
  delay(duracionPausa); 
}

void setup() {
  LED_RGB.begin();
  LED_RGB.setBrightness(150);
  colorearRGB(0,0,0);
  pinMode(LED_PIN, OUTPUT);
  digitalWrite(LED_PIN, LOW);
}

void loop() {
  for (int i = 0; i < longitudSecuenciaSOS; i++) {
    int tipoPulso = secuenciaSOS[i][0];
    int r = secuenciaSOS[i][1];
    int g = secuenciaSOS[i][2];
    int b = secuenciaSOS[i][3];
    int duracionSiguiente;

    if (tipoPulso == 0) {
      delay(2000); 
      break; 
    }

    if (tipoPulso == 1) { 
      duracionSiguiente = duracionCorta;
    } else { 
      duracionSiguiente = duracionLarga;
    }

    pulsoBloqueante(duracionSiguiente, r, g, b);
  }
}
